webpackJsonp([2],{GfrP:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_jquery__=__webpack_require__("7t+N"),__WEBPACK_IMPORTED_MODULE_0_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);__webpack_exports__.a={name:"Contribution",data:function(){return{vertion:"1.6.1",oldTerms:"",newsTerms:"",oldAttr:"请输入原词库\n格式： 词条 [tab] 编码",newAttr:"请输入新加词库\n格式： 编码 [tab] +/-/* [tab] 词条",btnClass:"btn my-2",btnInfo:"开始处理",outTerms:"",successInfo:"",errorInfo:"",oldTermsData:{},newsTermsData:{},newTermsData:"",successInfoData:"",errorInfoData:"",clearInfo:"清空内容",demoOldData:"剥壳\tblkeav\n静力学\tjlxhv\n动力学\taaaaa\n万夫\twfmk\n折子戏\tfzxki",demoNewData:"blkeav\t+\t剥壳\njlxhv\t-\t静力学\ndlxhva\t*\t动力学\nwfmk\t!m\t万夫莫开\nfzxki\t+\t折子",updates:!1,successMessage:!1,showInfoMessage:!1,historyArrow:">",isHover:!1}},mounted:function(){var t=this;setTimeout(function(){t.showInfoMessage=!0},100)},methods:{handleTerms:function handleTerms(){this.TermsHandle("oldTermsData"),this.TermsHandle("newsTermsData");var __this=this,thisNewData=this.newsTermsData.obj,thisOldData=this.oldTermsData.obj,reg,out,SuccessAll,ErrorAll,AddNum,ModifyNum,DelNum,ErrorNum,NoNum,ErrorAttr,SuccessAll=ErrorAll=AddNum=ModifyNum=DelNum=ErrorNum=NoNum=ErrorAttr=0;for(var y in thisOldData.word)this.newTermsData+=thisOldData.word[y]+"\t"+thisOldData.code[y]+"\r";for(var x in thisNewData.word)thisNewData.add[x]?(reg=new RegExp("[\\b\\u4e00-\\u9fa5\\b]+\\t\\b"+thisNewData.code[x]+"\\b","g"),out=thisNewData.word[x]+"\t"+thisNewData.code[x],-1==this.newTermsData.search(reg)?(this.newTermsData+=out+"\n",this.successInfoData+=out+"\t成功\t[+]\n",SuccessAll++,AddNum++):(this.errorInfoData+=out+"\t已有编码\t[+]\n",ErrorAll++,ErrorNum++)):thisNewData.modify[x]?(reg=new RegExp("[\\b\\u4e00-\\u9fa5\\b]+\\t\\b"+thisNewData.code[x]+"\\b","g"),out=thisNewData.word[x]+"\t"+thisNewData.code[x],-1!=this.newTermsData.search(reg)?(this.newTermsData=this.newTermsData.replace(reg,out),this.successInfoData+=out+"\t成功\t[*]\n",SuccessAll++,ModifyNum++):(this.errorInfoData+=out+"\t未找到\t[*]\n",ErrorAll++,NoNum++)):thisNewData.delete[x]?(reg=new RegExp("[\\b\\u4e00-\\u9fa5\\b]+\\t\\b"+thisNewData.code[x]+"\\b","g"),out=thisNewData.word[x]+"\t"+thisNewData.code[x],-1!=this.newTermsData.indexOf(thisNewData.code[x])?-1!=this.newTermsData.indexOf(thisNewData.word[x])?(this.newTermsData=this.newTermsData.replace(eval(reg),""),this.successInfoData+=out+"\t成功\t[-]\n",SuccessAll++,DelNum++):(this.errorInfoData+=out+"\t词组编码不同，已放弃删除\t[-]\n",ErrorAll++,NoNum++):(this.errorInfoData+=out+"\t未找到\t[-]\n",ErrorAll++,NoNum++)):(out=thisNewData.word[x]+"\t"+thisNewData.code[x],this.errorInfoData+=out+"\t未知操作符号\t[?]\n",ErrorAll++,ErrorAttr++);this.successInfoData+="成功统计：\n共 "+SuccessAll+"个, 添加 "+AddNum+" 个,\n修改 "+ModifyNum+" 个, 删除 "+DelNum+" 个。\n",this.errorInfoData+="失败统计：\n共 "+ErrorAll+"个, 错误 "+ErrorNum+" 个,\n没找到 "+NoNum+" 个, 没操作符 "+ErrorAttr+" 个。\n",this.clearSpace(),this.successInfo=this.successInfoData,this.errorInfo=this.errorInfoData,this.outTerms=this.newTermsData,this.successMessage=!0,setTimeout(function(){__this.closeSuccessMessage()},1e3),this.successInfoData=this.errorInfoData=this.newTermsData=""},TermsHandle:function(t){for(var e in this.allToHalf(),this[t].test="newsTermsData"==t?this.newsTerms.split(/[\t\r\n]/g):this.oldTerms.split(/[\t\r\n]/g),this[t].add=[],this[t].obj={},this[t].obj.word=[],this[t].obj.code=[],this[t].obj.add=[],this[t].obj.modify=[],this[t].obj.delete=[],this[t].test){var s=/[\u4e00-\u9fa5]+/.test(this[t].test[e]),a=/\+|\-|\*/.test(this[t].test[e]),o=/[a-z]+/.test(this[t].test[e])&&/^[^\!]+/.test(this[t].test[e]);if(s)this[t].obj.word.push(this[t].test[e]);else if(a)switch(this[t].test[e]){case"+":this[t].obj.add.push(!0),this[t].obj.modify.push(!1),this[t].obj.delete.push(!1);break;case"*":this[t].obj.add.push(!1),this[t].obj.modify.push(!0),this[t].obj.delete.push(!1);break;case"-":this[t].obj.add.push(!1),this[t].obj.modify.push(!1),this[t].obj.delete.push(!0)}else o&&this[t].obj.code.push(this[t].test[e])}},createDemo:function(){this.oldTerms=this.demoOldData,this.newsTerms=this.demoNewData},clearContent:function(){this.oldTerms=this.newsTerms=this.outTerms=this.AkeyTerms=""},allToHalf:function(){this.newsTerms=this.newsTerms.replace(/\＋/g,"+"),this.newsTerms=this.newsTerms.replace(/\-/g,"-"),this.newsTerms=this.newsTerms.replace(/\!m|\！m|\！M|\!M|\＊/g,"*")},clickPlay:function(){this.btnInfo="处理中……",this.btnClass="btn btn-primary my-2"},clearSpace:function(){this.newTermsData=this.newTermsData.replace(/[\r\n]\s/g,"\r")},clickHistory:function(){this.updates=!this.updates,this.isHover=!this.isHover},closeSuccessMessage:function(){var t=this;setTimeout(function(){t.btnInfo="开始处理",t.btnClass="btn my-2"},500),setTimeout(function(){t.successMessage=!1},2500)},oldTermsInput:function(){this.oldTerms=this.oldTerms+="\t"},newsTermsInput:function(){this.newsTerms=this.newsTerms+="\t"},outTermsInput:function(){this.outTerms=this.outTerms+="\t"},AkeyTermsInput:function(){this.AkeyTerms=this.AkeyTerms+="\t"}}}},RuZb:function(t,e){},zyUd:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("GfrP"),o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container text-center"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6 p-0"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.oldTerms,expression:"oldTerms"}],staticClass:"form-control position-relative",attrs:{cols:"30",rows:"8",placeholder:"词条 [tab] 编码"},domProps:{value:t.oldTerms,innerHTML:t._s(t.oldAttr)},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key))return null;e.preventDefault(),t.oldTermsInput(e)},input:function(e){e.target.composing||(t.oldTerms=e.target.value)}}}),t._v(" "),s("span",{staticClass:"position-absolute font-weight-light textarea-title"},[t._v("原词库数据")])]),t._v(" "),s("div",{staticClass:"col-6 p-0"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newsTerms,expression:"newsTerms"}],staticClass:"form-control position-relative",attrs:{cols:"30",rows:"8",placeholder:"词条 [tab] 编码 [tab] +/-/m"},domProps:{value:t.newsTerms,innerHTML:t._s(t.newAttr)},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key))return null;e.preventDefault(),t.newsTermsInput(e)},input:function(e){e.target.composing||(t.newsTerms=e.target.value)}}}),t._v(" "),s("span",{staticClass:"position-absolute font-weight-light textarea-title"},[t._v("更正表数据")])]),t._v(" "),s("div",{staticClass:"col-4 p-0"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.outTerms,expression:"outTerms"}],staticClass:"form-control position-relative",attrs:{readonly:"",cols:"30",rows:"8",placeholder:"输出转换后内容"},domProps:{value:t.outTerms},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key))return null;e.preventDefault(),t.outTermsInput(e)},input:function(e){e.target.composing||(t.outTerms=e.target.value)}}}),t._v(" "),s("span",{staticClass:"position-absolute font-weight-light textarea-title"},[t._v("输出转换后内容")])]),t._v(" "),s("div",{staticClass:"col-4 p-0"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.successInfo,expression:"successInfo"}],staticClass:"form-control position-relative",attrs:{readonly:"",cols:"30",rows:"8",placeholder:"输出成功信息"},domProps:{value:t.successInfo},on:{input:function(e){e.target.composing||(t.successInfo=e.target.value)}}}),t._v(" "),s("span",{staticClass:"position-absolute font-weight-light textarea-title"},[t._v("输出成功信息")])]),t._v(" "),s("div",{staticClass:"col-4 p-0"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.errorInfo,expression:"errorInfo"}],staticClass:"form-control position-relative",attrs:{readonly:"",cols:"30",rows:"8",placeholder:"输出错误信息"},domProps:{value:t.errorInfo},on:{input:function(e){e.target.composing||(t.errorInfo=e.target.value)}}}),t._v(" "),s("span",{staticClass:"position-absolute font-weight-light textarea-title"},[t._v("输出错误信息")])])]),t._v(" "),s("button",{class:t.btnClass,on:{click:t.handleTerms,mousedown:t.clickPlay}},[t._v(t._s(t.btnInfo))]),t._v(" "),s("button",{staticClass:"btn",on:{click:t.createDemo}},[t._v("测试内容")]),t._v(" "),s("button",{staticClass:"btn btn-danger",on:{dblclick:t.clearContent,click:function(e){t.clearInfo="双击清空"}}},[t._v(t._s(t.clearInfo))]),t._v(" "),s("a",{staticClass:"btn btn-light",attrs:{href:"https://739497722.docs.qq.com/ipGva4mn5bo",target:"_black"}},[t._v("键道6加词")]),t._v(" "),s("p",{staticClass:"alert alert-secondary mb-1"},[t._v("申请表词库处理工具v"+t._s(t.vertion))]),t._v(" "),s("p",{staticClass:"bg-light p-1 rounded mb-1"},[s("transition",{attrs:{name:"translate"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showInfoMessage,expression:"showInfoMessage"}]},[s("span",{staticClass:"d-block"},[t._v("转换后词组，顺序会错乱，可以使用BashShell中sort工具进行排序，也可以使用编写好的sh工具进行排序。"),s("a",{attrs:{href:"https://gitee.com/nmlixa/Rime_JD/tree/master/Tools/TermsTools",target:"_black"}},[t._v("工具1sortTerms.sh")])]),t._v(" "),s("span",[t._v("请注意！本工具不支持单字、英文（含英文）、重码、操作！！！修改后编码会出现混乱！")])])])],1),t._v(" "),s("div",{staticClass:"text-left bg-light p-1 mb-1 rounded fzx history-card"},[s("p",[s("button",{staticClass:"btn",on:{click:t.clickHistory}},[t._v("更新历史")]),s("i",{staticClass:"fa fa-arrow-right btn fzb float-right history-arrow",class:{"history-active":t.isHover}})]),t._v(" "),t.updates?s("div",{staticClass:"mt-1"},[s("p",[t._v("更新"+t._s(t.vertion)+"：改进成功信息提示时间。")]),t._v(" "),s("p",[t._v("更新1.6：升级添加细节优化处理。")]),t._v(" "),s("p",[t._v("更新1.5：升级删除时确定编码词条才删除，改善提示内容。")]),t._v(" "),s("p",[t._v("更新1.4：修复主动修改!m为*的步骤错误问题。")]),t._v(" "),s("p",[t._v("更新1.3：使用*操作符作用主修改操作符，兼容!m修改符。")]),t._v(" "),s("p",[t._v("更新1.2：新增*操作符，等同于!m，自动解决，全角半角问题。")]),t._v(" "),s("p",[t._v("更新1.1：自动解决，全角半角问题。")]),t._v(" "),s("p",[t._v("更新1.0：正常使用，发布版本。")])]):t._e()]),t._v(" "),s("transition",{attrs:{name:"translateRotate"}},[t.successMessage?s("div",{staticClass:"container alert alert-success fixed-top mt-5"},[t._v("处理完成")]):t._e()])],1)},staticRenderFns:[]};var r=function(t){s("RuZb")},i=s("VU/8")(a.a,o,!1,r,null,null);e.default=i.exports}});
//# sourceMappingURL=2.991327501948ae540be9.js.map