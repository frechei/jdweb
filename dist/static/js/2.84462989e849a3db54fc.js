webpackJsonp([2],{AaNy:function(t,e){},GfrP:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_jquery__=__webpack_require__("7t+N"),__WEBPACK_IMPORTED_MODULE_0_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);__webpack_exports__.a={name:"Contribution",data:function(){return{vertion:"2.0",oldTerms:"",newsTerms:"",oldAttr:"请输入词库数据\n词条\t编码",newAttr:"请输入更正数据\n编码\t[+/-/*]\t词条",btnClass:"btn my-2",btnInfo:"开始处理",isIdent:!1,outTerms:"",successInfo:"",errorInfo:"",oldTermsData:{},newsTermsData:{},newTermsData:"",newTermsCountData:{},successInfoData:"",count:{old:"词: 0 码: 0",new:"码: 0 符: 0 词: 0",out:"词: 0 码: 0 增: 0",success:"共：0 加: 0 改: 0 删：0",error:"共: 0 错: 0 没：0 缺：0"},errorInfoData:"",demoOldData:"剥壳\tblke\n经历\tjglk\n静力\tjglk\n经历\tjglk\n博客\tblke\n万夫\twffj\n折子戏\tfzxi\n万付\twffj",demoNewData:"blkeav2\t+\t剥壳\njglk3\t-\t经历\nwffj\t-\t万付",updates:!1,showMessageData:{cont:"",sc:!1,s:3e3,e:!1,show:!1},historyArrow:">",isHover:!1,begin:"",end:""}},methods:{handleTerms:function handleTerms(){var __this=this,thisNewData=this.newsTermsData.obj,thisOldData=this.oldTermsData.obj,reg,out,SuccessAll,ErrorAll,AddNum,ModifyNum,DelNum,ErrorNum,NoNum,ErrorAttr,regIdent,regIdentData,isHasIdent,IdentNum,SuccessAll=ErrorAll=AddNum=ModifyNum=DelNum=ErrorNum=NoNum=ErrorAttr=0,i=1;if(this.isIdent){for(var j in thisOldData.word)reg=new RegExp("[\\u4e00-\\u9fa5]+\\t"+thisOldData.code[j]+"\\d+","g"),IdentNum=new Array,regIdentData=this.newTermsData.match(reg);for(x in regIdentData)IdentNum[x]=regIdentData[x].toString().match(/\d+/g);for(var y in thisOldData.word)reg=new RegExp("[\\u4e00-\\u9fa5]+\\t"+thisOldData.code[y]+"\\d+","g"),-1==this.newTermsData.search(reg)?this.newTermsData+=thisOldData.word[y]+"\t"+thisOldData.code[y]+i+"\r\n":this.newTermsData+=thisOldData.word[y]+"\t"+thisOldData.code[y]+(IdentNum.length+1)+"\r\n"}else for(var _y in thisOldData.word)reg=new RegExp("[\\u4e00-\\u9fa5]+\\t"+thisOldData.code[_y],"g"),this.newTermsData+=thisOldData.word[_y]+"\t"+thisOldData.code[_y]+"\r\n";for(var x in thisNewData.word)thisNewData.add[x]?(reg=new RegExp("[\\u4e00-\\u9fa5]+\\t"+thisNewData.code[x],"g"),out=thisNewData.word[x]+"\t"+thisNewData.code[x],-1==this.newTermsData.search(reg)?(this.newTermsData+=out+"\r\n",this.successInfoData+=out+"\t[ + 第"+(parseFloat(x)+1)+"行]\r\n",SuccessAll++,AddNum++):(this.errorInfoData+=out+"\t已有编码\t[ + 第"+(parseFloat(x)+1)+"行]\r\n",ErrorAll++,ErrorNum++)):thisNewData.modify[x]?(reg=new RegExp("[\\u4e00-\\u9fa5]+\\t"+thisNewData.code[x],"g"),out=thisNewData.word[x]+"\t"+thisNewData.code[x],-1!=this.newTermsData.search(reg)?(this.newTermsData=this.newTermsData.replace(reg,out),this.successInfoData+=out+"\t[ * 第"+(parseFloat(x)+1)+"行]\r\n",SuccessAll++,ModifyNum++):(this.errorInfoData+=out+"\t未找到编码\t[ * 第"+(parseFloat(x)+1)+"行]\r\n",ErrorAll++,NoNum++)):thisNewData.delete[x]?(reg=new RegExp("[\\b\\u4e00-\\u9fa5\\b]+\\t\\b"+thisNewData.code[x]+"\\b\\r\\n","g"),out=thisNewData.word[x]+"\t"+thisNewData.code[x],-1!=this.newTermsData.indexOf(thisNewData.code[x])?-1!=this.newTermsData.indexOf(thisNewData.word[x])?(this.newTermsData=this.newTermsData.replace(eval(reg),""),this.successInfoData+=out+"\t[ - 第"+(parseFloat(x)+1)+"行]\r\n",SuccessAll++,DelNum++):(this.errorInfoData+=out+"\t词组编码不同，已放弃删除\t[ - 第"+(parseFloat(x)+1)+"行]\r\n",ErrorAll++,NoNum++):(this.errorInfoData+=out+"\t未找到编码\t[ - 第"+(parseFloat(x)+1)+"行]\r\n",ErrorAll++,NoNum++)):(out=thisNewData.word[x]+"\t"+thisNewData.code[x],this.errorInfoData+=out+"\t未知操作符号\t[第"+(parseFloat(x)+1)+"行]\r\n",ErrorAll++,ErrorAttr++);this.TermsCountSet("newTermsData","newTermsCountData");var nWordNum=this.newTermsCountData.obj.word.length,nCodeNum=this.newTermsCountData.obj.code.length,nAddNum=this.newTermsCountData.obj.word.length-thisOldData.word.length;this.count.out="词: "+nWordNum+" 码: "+nCodeNum+" 增："+nAddNum,this.count.success="共："+SuccessAll+" 加: "+AddNum+" 改: "+ModifyNum+" 删："+DelNum,this.count.error="共: "+ErrorAll+" 错: "+ErrorNum+" 没："+NoNum+" 缺："+ErrorAttr,this.successInfoData+="\n成功统计：\n共 "+SuccessAll+"个, 添加 "+AddNum+" 个,\n修改 "+ModifyNum+" 个, 删除 "+DelNum+" 个。\n",this.errorInfoData+=ErrorAll||ErrorNum||NoNum||ErrorAttr?"\n失败统计：\n共 "+ErrorAll+"个, 错误 "+ErrorNum+" 个,\n没找到 "+NoNum+" 个, 没操作符 "+ErrorAttr+" 个。\n":"恭喜，没有错误哦！",this.clearSpace(),this.outTerms=this.clearIdent(this.isIdent,this.newTermsData),this.newsTerms=this.newsTerms,this.successInfo=this.successInfoData,this.errorInfo=this.errorInfoData,this.backHandingBtn(),this.successInfoData=this.errorInfoData=this.newTermsData="",this.end=new Date,this.showMessage({show:!0,sc:!0,cont:"用时"+(__this.end-__this.begin)+"毫秒 处理完毕！共成功"+SuccessAll+"个、失败"+ErrorAll+"个！"}),console.log("用时"+(__this.end-__this.begin)+"毫秒 处理完毕！共成功"+SuccessAll+"个、失败"+ErrorAll+"个！")},TermsCountSet:function(t,e){for(var s in this.allToHalf(),this[e].test=this[t].split(/[\t\r\n]/g),this[e].add=[],this[e].obj={},this[e].obj.word=[],this[e].obj.code=[],this[e].obj.add=[],this[e].obj.modify=[],this[e].obj.delete=[],this[e].test){var a=/[\u4e00-\u9fa5]+/.test(this[e].test[s]),r=/\+|\-|\*/.test(this[e].test[s]),o=/[a-z]+/.test(this[e].test[s])&&/^[^\!]+/.test(this[e].test[s]);if(a)this[e].obj.word.push(this[e].test[s]);else if(r)switch(this[e].test[s]){case"+":this[e].obj.add.push(!0),this[e].obj.modify.push(!1),this[e].obj.delete.push(!1);break;case"*":this[e].obj.add.push(!1),this[e].obj.modify.push(!0),this[e].obj.delete.push(!1);break;case"-":this[e].obj.add.push(!1),this[e].obj.modify.push(!1),this[e].obj.delete.push(!0)}else o&&this[e].obj.code.push(this[e].test[s])}},testing:function(t){this.begin=new Date,this.TermsCountSet("oldTerms","oldTermsData"),this.TermsCountSet("newsTerms","newsTermsData");var e=this.oldTermsData.obj.word.length,s=this.oldTermsData.obj.code.length,a=this.newsTermsData.obj.word.length,r=this.newsTermsData.obj.modify.length,o=this.newsTermsData.obj.code.length;if(this.count.old="词: "+e+" 码: "+s,this.count.new="码: "+o+" 符: "+r+" 词: "+a,t)return this.handleTerms(),0==a+r+o?(this.showMessage({show:!0,sc:!0,s:1200,cont:"工作表为空！"}),void this.backHandingBtn()):e!=s?(this.showMessage({show:!0,e:!0,s:1200,cont:"请检查词库内容！"}),void(this.count.old='<b style="color: red;">词: '+e+" 码: "+s+"<b>")):a!=r||r!=o||a!=o?(this.showMessage({show:!0,e:!0,s:1200,cont:"请检查更正数据内容！"}),void(this.count.new='<b style="color: red;">码: '+o+" 符: "+r+" 词: "+a+"<b>")):void 0},createDemo:function(){this.oldTerms=this.demoOldData,this.newsTerms=this.demoNewData},clearContent:function(){this.oldTerms=this.newsTerms=this.outTerms=this.AkeyTerms=""},allToHalf:function(){this.newsTerms=this.newsTerms.replace(/\＋/g,"+"),this.newsTerms=this.newsTerms.replace(/\-/g,"-"),this.newsTerms=this.newsTerms.replace(/\!m|\！m|\！M|\!M|\＊/g,"*")},hasIdent:function(t){return!!t.indexOf("[")},clearIdent:function(t,e){var s=e.replace(/\d+/g,"");return t?e:s},showMessage:function(t){this.showMessageData=t,this.closeMessge(t.s)},clickPlay:function(){this.btnInfo="处理中…",this.btnClass="btn btn-primary my-2"},onIdent:function(){this.isIdent||alert("该操作较耗费性能时间，请谨慎开启！")},clearSpace:function(){this.newTermsData=this.newTermsData.replace(/[\r\n]\s/g,"\r")},clickHistory:function(){this.updates=!this.updates,this.isHover=!this.isHover},closeMessge:function(t){var e=this;t?setTimeout(function(){e.showMessageData.show=!1},t):setTimeout(function(){e.showMessageData.show=!1},3e3)},backHandingBtn:function(){var t=this;setTimeout(function(){t.btnInfo="开始处理",t.btnClass="btn my-2"},500)},oldTermsInput:function(){this.oldTerms=this.oldTerms+="\t"},newsTermsInput:function(){this.newsTerms=this.newsTerms+="\t"},outTermsInput:function(){this.outTerms=this.outTerms+="\t"},AkeyTermsInput:function(){this.AkeyTerms=this.AkeyTerms+="\t"}}}},zyUd:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("GfrP"),r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container text-center"},[s("div",{staticClass:"row main-container"},[s("div",{staticClass:"col-12 col-md-4 p-0"},[s("div",{staticClass:"bg-white info"},[s("span",{staticClass:"textarea-info",domProps:{innerHTML:t._s(t.count.old)}}),t._v(" "),s("span",{staticClass:"textarea-title"},[t._v("词库数据")])]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.oldTerms,expression:"oldTerms"}],attrs:{cols:"30",rows:"8",placeholder:t.oldAttr},domProps:{value:t.oldTerms},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key))return null;e.preventDefault(),t.oldTermsInput(e)},keyup:function(e){return("button"in e||86===e.keyCode)&&e.ctrlKey?void t.testing(!1):null},input:function(e){e.target.composing||(t.oldTerms=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-12 col-md-4 p-0"},[s("div",{staticClass:"bg-white info"},[s("span",{staticClass:"textarea-info",domProps:{innerHTML:t._s(t.count.new)}}),t._v(" "),s("span",{staticClass:"textarea-title"},[t._v("更正数据")])]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newsTerms,expression:"newsTerms"}],attrs:{cols:"30",rows:"8",placeholder:t.newAttr},domProps:{value:t.newsTerms},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key))return null;e.preventDefault(),t.newsTermsInput(e)},keyup:function(e){return("button"in e||86===e.keyCode)&&e.ctrlKey?void t.testing(!1):null},input:function(e){e.target.composing||(t.newsTerms=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-12 col-md-4 p-0"},[s("div",{staticClass:"bg-white info"},[s("span",{staticClass:"textarea-info",domProps:{innerHTML:t._s(t.count.out)}}),t._v(" "),s("span",{staticClass:"textarea-title"},[t._v("转换内容")])]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.outTerms,expression:"outTerms"}],attrs:{readonly:"",cols:"30",rows:"8",placeholder:"输出转换后内容"},domProps:{value:t.outTerms},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key))return null;e.preventDefault(),t.outTermsInput(e)},input:function(e){e.target.composing||(t.outTerms=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-12 col-md-6 p-0"},[s("div",{staticClass:"bg-white info"},[s("span",{staticClass:"textarea-info",domProps:{innerHTML:t._s(t.count.success)}}),t._v(" "),s("span",{staticClass:"textarea-title"},[t._v("成功信息")])]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.successInfo,expression:"successInfo"}],attrs:{readonly:"",cols:"30",rows:"8",placeholder:"输出成功信息"},domProps:{value:t.successInfo},on:{input:function(e){e.target.composing||(t.successInfo=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-12 col-md-6 p-0"},[s("div",{staticClass:"bg-white info"},[s("span",{staticClass:"textarea-info",domProps:{innerHTML:t._s(t.count.error)}}),t._v(" "),s("span",{staticClass:"textarea-title"},[t._v("错误信息")])]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.errorInfo,expression:"errorInfo"}],attrs:{readonly:"",cols:"30",rows:"8",placeholder:"输出错误信息"},domProps:{value:t.errorInfo},on:{input:function(e){e.target.composing||(t.errorInfo=e.target.value)}}})])]),t._v(" "),s("div",[s("button",{class:t.btnClass,on:{click:function(e){t.testing(!0)},mousedown:t.clickPlay}},[t._v(t._s(t.btnInfo))]),t._v(" "),s("button",{staticClass:"btn",on:{click:t.createDemo}},[t._v("测试内容")]),t._v(" "),s("div",{staticClass:"btn pl-4 pr-2 form-check bg-white"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.isIdent,expression:"isIdent"}],staticClass:"form-check-input",attrs:{id:"isIdent",type:"checkbox"},domProps:{checked:Array.isArray(t.isIdent)?t._i(t.isIdent,null)>-1:t.isIdent},on:{click:t.onIdent,change:function(e){var s=t.isIdent,a=e.target,r=!!a.checked;if(Array.isArray(s)){var o=t._i(s,null);a.checked?o<0&&(t.isIdent=s.concat([null])):o>-1&&(t.isIdent=s.slice(0,o).concat(s.slice(o+1)))}else t.isIdent=r}}}),t._v(" "),s("label",{staticClass:"form-check-label",attrs:{for:"isIdent"}},[t._v("重码操作(Beta)")])]),t._v(" "),s("button",{staticClass:"btn btn-danger",on:{click:t.clearContent}},[t._v("清空内容")]),t._v(" "),s("a",{staticClass:"btn btn-light",attrs:{href:"https://739497722.docs.qq.com/ipGva4mn5bo",target:"_black"}},[t._v("键道6加词")])]),t._v(" "),s("p",{staticClass:"alert alert-secondary mb-1"},[t._v("申请表词库处理工具v"+t._s(t.vertion))]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"text-left bg-light p-1 mb-1 rounded fzx history-card",on:{click:t.clickHistory}},[s("p",[s("button",{staticClass:"btn"},[t._v("更新历史")]),s("i",{staticClass:"fa fa-arrow-right btn fzb float-right history-arrow",class:{"history-active":t.isHover}})]),t._v(" "),t.updates?s("div",{staticClass:"mt-1"},[s("p",[t._v("更新"+t._s(t.vertion)+"：新增重码操作机制，以编码后缀方式操作词条序。较耗费性能，可关闭。")]),t._v(" "),s("p",[t._v("更新1.8：新增头部信息统计，改进自适应布局方式，完善缺失编码检测机制。")]),t._v(" "),s("p",[t._v("更新1.7：新增查看编码所在行数，新增提示处理表的操作符 编码 词条的数量。")]),t._v(" "),s("p",[t._v("更新1.6.1：改进成功信息提示时间。")]),t._v(" "),s("p",[t._v("更新1.6：升级添加细节优化处理。")]),t._v(" "),s("p",[t._v("更新1.5：升级删除时确定编码词条才删除，改善提示内容。")]),t._v(" "),s("p",[t._v("更新1.4：修复主动修改!m为*的步骤错误问题。")]),t._v(" "),s("p",[t._v("更新1.3：使用*操作符作用主修改操作符，兼容!m修改符。")]),t._v(" "),s("p",[t._v("更新1.2：新增*操作符，等同于!m，自动解决，全角半角问题。")]),t._v(" "),s("p",[t._v("更新1.1：自动解决，全角半角问题。")]),t._v(" "),s("p",[t._v("更新1.0：正常使用，发布版本。")])]):t._e()]),t._v(" "),s("transition",{attrs:{name:"translateRotate"}},[t.showMessageData.show?s("div",{staticClass:"container alert fixed-top mt-5",class:{"alert-success":t.showMessageData.sc,"alert-danger":t.showMessageData.e}},[t._v(t._s(t.showMessageData.cont))]):t._e()])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"bg-light p-1 rounded mb-1"},[e("span",{staticClass:"d-block"},[this._v("转换后词组，顺序会错乱，可以使用BashShell中sort工具进行排序，也可以使用编写好的sh工具进行排序。"),e("a",{attrs:{href:"https://gitee.com/nmlixa/Rime_JD/tree/master/Tools/TermsTools",target:"_black"}},[this._v("工具1sortTerms.sh")])]),this._v(" "),e("span",[this._v("请注意！本工具不支持单字、英文（含英文）、重码、操作！！！修改后编码会出现混乱！")])])}]};var o=function(t){s("AaNy")},n=s("VU/8")(a.a,r,!1,o,null,null);e.default=n.exports}});
//# sourceMappingURL=2.84462989e849a3db54fc.js.map